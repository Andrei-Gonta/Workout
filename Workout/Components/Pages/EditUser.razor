@page "/edituser"
@using Data_Base_Access
@using Data_Base_Access.Entities
@using Data_Base_Access.Repositories.NewFolder.IGenericRepository
@using Data_Base_Access.Repositories.UserRepository
@using Data_Base_Access.Repositories.UsersRepository
@using Microsoft.EntityFrameworkCore
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Web
@attribute [StreamRendering]
@inject IGenericRepository<Users> userRepository
@inject NavigationManager NavigationManager

<h3>EditUser</h3>

<EditForm Model="modUser" OnSubmit="Submit" FormName="ModifyUser">
    <div>
        <label>
            Name:
            <InputText @bind-Value="modUser!.Name"></InputText>
        </label>
    </div>
    <div>
        <label>
            Email:
            <InputText @bind-Value="modUser!.Email" />
        </label>
    </div>
    <div>
        <label>
            Phone number:
            <InputText @bind-Value="modUser!.Phone" />
        </label>
    </div>
    <div>
        <label>
            Weight:
            <InputNumber @bind-Value="modUser!.Weight" />
        </label>
    </div>
    <div>
        <label>
            Age:
            <InputNumber @bind-Value="modUser!.Age" />
        </label>
    </div>
    <div><button type="submit">Modifiy User</button></div>
</EditForm>




@code {
    private Users modUser = new Users();

    public int userID { get; set; }

    protected override void OnInitialized() => modUser ??= new();

    private async Task Submit()
    {
        await userRepository.UpdateAsync(modUser);
        NavigationManager.NavigateTo("/users");
    }
}
